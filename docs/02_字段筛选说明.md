# 字段筛选说明

## 一、字段筛选原则

### 1.1 筛选标准
- **业务相关性**: 字段必须与知识图谱构建或业务场景相关
- **实体识别**: 能够唯一标识实体的字段（如ID、编码）
- **关系构建**: 能够建立实体间关系的字段（如法人代表、父组织ID）
- **属性描述**: 能够描述实体关键属性的字段（如名称、金额、状态）

### 1.2 排除字段
- 系统字段：创建人、修改人、创建时间、修改时间（除非业务需要）
- 冗余字段：与业务无关的技术字段
- 空值字段：大部分情况下为空的字段

---

## 二、各表字段筛选详情

### 2.1 人员表 (t_sec_user)

**原始表字段数**: 52个

**筛选后字段**: 8个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 人员ID | int8 | 唯一标识，构建Person节点 |
| FNUMBER | 工号 | varchar | 人员编码，业务标识 |
| FTRUENAME | 姓名 | varchar | 人员名称，核心属性 |
| FIDCARD | 证件号码 | varchar | 身份识别，重要属性 |
| FIDTYPE | 证件类型 | int8 | 证件类型说明 |
| FSTATUS | 数据状态 | varchar | 数据有效性 |
| FGENDER | 性别 | varchar | 基本属性 |
| FBIRTHDAY | 出生日期 | timestamp | 基本属性 |

**虚拟数据字段映射**:
```
FID          -> 人员唯一标识 (如: USER_001)
FNUMBER      -> 工号 (如: EMP0001)
FTRUENAME    -> 姓名 (如: 张伟)
FIDCARD      -> 身份证号 (如: 310101199001011234)
FIDTYPE      -> 证件类型 (1:身份证)
FSTATUS      -> 数据状态 (C:已审核)
FGENDER      -> 性别 (1:男 2:女)
FBIRTHDAY    -> 出生日期 (如: 1990-01-01)
```

---

### 2.2 组织表 (t_org_org)

**原始表字段数**: 79个

**筛选后字段**: 9个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 组织ID | int8 | 唯一标识，构建Company节点 |
| FNUMBER | 编码 | varchar | 组织编码，业务标识 |
| FNAME | 名称 | varchar | 组织名称，核心属性 |
| FORGTYPE | 组织类型 | varchar | 组织分类（自定义字段） |
| FUNIFORMSOCIALCREDITCODE | 统一社会信用代码 | varchar | 企业唯一标识 |
| FARTIFICIALPERSON | 法人代表 | varchar | **关键字段**：构建法人关系 |
| FSTATUS | 数据状态 | varchar | 数据有效性 |
| FESTABLISHMENTDATE | 成立日期 | timestamp | 企业属性 |
| FPARENTORGID | 父组织ID | varchar | **关键字段**：构建控股关系（自定义） |

**虚拟数据字段映射**:
```
FID                      -> 组织唯一标识 (如: ORG_001)
FNUMBER                  -> 组织编码 (如: ORG001)
FNAME                    -> 组织名称 (如: 中央建设集团有限公司)
FORGTYPE                 -> 组织类型 (央企/分公司)
FUNIFORMSOCIALCREDITCODE -> 统一社会信用代码 (如: 91110000MA001234XX)
FARTIFICIALPERSON        -> 法人代表姓名 (如: 张伟)
FSTATUS                  -> 数据状态 (C:已审核)
FESTABLISHMENTDATE       -> 成立日期 (如: 2010-05-20)
FPARENTORGID             -> 父组织ID (如: ORG_001，空表示无父组织)
```

**注意**: FPARENTORGID是自定义字段，原始表中不存在，用于模拟控股关系。

---

### 2.3 供应商表 (t_bd_supplier)

**原始表字段数**: 69个

**筛选后字段**: 7个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 供应商ID | int8 | 唯一标识，构建Company节点 |
| FNUMBER | 编码 | varchar | 供应商编码 |
| FNAME | 名称 | varchar | 供应商名称 |
| FARTIFICIALPERSON | 法人代表 | varchar | **关键字段**：构建法人关系 |
| FTAXNO | 税号 | varchar | 企业标识 |
| FSTATUS | 数据状态 | varchar | 数据有效性 |
| FBUSINESSSCOPE | 经营范围 | varchar | 企业属性 |

**虚拟数据字段映射**:
```
FID               -> 供应商唯一标识 (如: SUP_001)
FNUMBER           -> 供应商编码 (如: SUP0001)
FNAME             -> 供应商名称 (如: 华信建材有限公司)
FARTIFICIALPERSON -> 法人代表姓名 (如: 李强)
FTAXNO            -> 税号 (如: 123456789012345)
FSTATUS           -> 数据状态 (C:已审核)
FBUSINESSSCOPE    -> 经营范围 (如: 建筑材料、机械设备销售)
```

---

### 2.4 客户表 (t_bd_customer)

**原始表字段数**: 60个

**筛选后字段**: 7个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 客户ID | int8 | 唯一标识，构建Company节点 |
| FNUMBER | 编码 | varchar | 客户编码 |
| FNAME | 名称 | varchar | 客户名称 |
| FARTIFICIALPERSON | 法人代表 | varchar | **关键字段**：构建法人关系 |
| FTAXNO | 税号 | varchar | 企业标识 |
| FSTATUS | 数据状态 | varchar | 数据有效性 |
| FBUSINESSSCOPE | 经营范围 | varchar | 企业属性 |

**虚拟数据字段映射**:
```
FID               -> 客户唯一标识 (如: CUS_001)
FNUMBER           -> 客户编码 (如: CUS0001)
FNAME             -> 客户名称 (如: 华润置地发展)
FARTIFICIALPERSON -> 法人代表姓名 (如: 王芳)
FTAXNO            -> 税号 (如: 987654321098765)
FSTATUS           -> 数据状态 (C:已审核)
FBUSINESSSCOPE    -> 经营范围 (如: 房地产开发、物业管理)
```

---

### 2.5 其他相对方表 (t_mscon_counterpart)

**原始表字段数**: 33个

**筛选后字段**: 6个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 相对方ID | int8 | 唯一标识，构建Company节点 |
| FNUMBER | 编码 | varchar | 相对方编码 |
| FNAME | 名称 | varchar | 相对方名称 |
| FARTIFICIALPERSON | 法人代表 | varchar | **关键字段**：构建法人关系 |
| FSTATUS | 数据状态 | varchar | 数据有效性 |
| FBUSINESSSCOPE | 经营范围 | varchar | 企业属性 |

**虚拟数据字段映射**:
```
FID               -> 相对方唯一标识 (如: CP_001)
FNUMBER           -> 相对方编码 (如: CP0001)
FNAME             -> 相对方名称 (如: 中建设计研究院)
FARTIFICIALPERSON -> 法人代表姓名 (如: 赵敏)
FSTATUS           -> 数据状态 (C:已审核)
FBUSINESSSCOPE    -> 经营范围 (如: 工程咨询、技术服务)
```

---

### 2.6 合同表 (t_mscon_contract)

**原始表字段数**: 84个

**筛选后字段**: 19个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 合同ID | int8 | 唯一标识，构建Contract节点 |
| FBILLNO | 合同编号 | varchar | 合同编码，业务标识 |
| FBILLNAME | 合同名称 | varchar | 合同名称，核心属性 |
| FSIGNALLAMOUNT | 签约金额 | numeric | **关键字段**：交易金额 |
| FBIZTIME | 签订日期 | timestamp | 合同属性 |
| FPARTAID | 甲方ID | int8 | **关键字段**：构建合同关系 |
| FPARTANAME | 甲方名称 | varchar | 甲方名称 |
| FPATYPE | 甲方类型 | varchar | 甲方类型（自定义） |
| FPARTBID | 乙方ID | int8 | **关键字段**：构建合同关系 |
| FPARTBNAME | 乙方名称 | varchar | 乙方名称 |
| FPBTYPE | 乙方类型 | varchar | 乙方类型（自定义） |
| FPARTCID | 丙方ID | int8 | 构建合同关系（可选） |
| FPARTCNAME | 丙方名称 | varchar | 丙方名称 |
| FPCTYPE | 丙方类型 | varchar | 丙方类型（自定义） |
| FPARTDID | 丁方ID | int8 | 构建合同关系（可选） |
| FPARTDNAME | 丁方名称 | varchar | 丁方名称 |
| FPDTYPE | 丁方类型 | varchar | 丁方类型（自定义） |
| FBILLSTATUS | 单据状态 | varchar | 数据有效性 |
| FCONTSTATUS | 合同状态 | varchar | 合同执行状态 |

**虚拟数据字段映射**:
```
FID            -> 合同唯一标识 (如: CON_001)
FBILLNO        -> 合同编号 (如: HT2024000001)
FBILLNAME      -> 合同名称 (如: 建材采购合同-华信建材有限公司)
FSIGNALLAMOUNT -> 签约金额 (如: 5000000.00)
FBIZTIME       -> 签订日期 (如: 2024-06-15)
FPARTAID       -> 甲方ID (如: ORG_002)
FPARTANAME     -> 甲方名称 (如: 中建华东分公司)
FPATYPE        -> 甲方类型 (bos_org/bd_supplier/bd_customer/mscon_counterpart)
FPARTBID       -> 乙方ID (如: SUP_001)
FPARTBNAME     -> 乙方名称 (如: 华信建材有限公司)
FPBTYPE        -> 乙方类型 (bd_supplier)
FPARTCID       -> 丙方ID (可选，如: CUS_001)
FPARTCNAME     -> 丙方名称 (可选)
FPCTYPE        -> 丙方类型 (可选)
FPARTDID       -> 丁方ID (可选)
FPARTDNAME     -> 丁方名称 (可选)
FPDTYPE        -> 丁方类型 (可选)
FBILLSTATUS    -> 单据状态 (C:已审核)
FCONTSTATUS    -> 合同状态 (EXECUTING:执行中 COMPLETED:已完成)
```

**注意**: FPATYPE、FPBTYPE、FPCTYPE、FPDTYPE是自定义字段，用于标识签署方的来源表类型。

---

### 2.7 案件表 (t_conl_case)

**原始表字段数**: 42个

**筛选后字段**: 14个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 案件ID | int8 | 唯一标识，构建LegalEvent节点 |
| FBILLNO | 案件编号 | varchar | 案件编码 |
| FNAME | 案件名称 | varchar | 案件名称 |
| FCASETYPEID | 案件类型 | int8 | 案件分类 |
| FLAWSUITAMOUNT | 涉诉金额 | numeric | **关键字段**：案件金额 |
| FLAWSUITTYPE | 诉讼类型 | varchar | 案件属性 |
| FCASESTATUS | 案件状态 | varchar | 案件进展状态 |
| FOPERATORID | 经办人ID | int8 | **关键字段**：关联人员 |
| FOPERATORNAME | 经办人姓名 | varchar | 经办人名称（自定义） |
| FRELATECONTRACTID | 关联合同ID | int8 | **关键字段**：关联合同 |
| FRELATECONTRACTNAME | 关联合同名称 | varchar | 关联合同名称（自定义） |
| FREGISTDATE | 登记日期 | timestamp | 案件时间 |
| FBILLSTATUS | 单据状态 | varchar | 数据有效性 |
| FINTRODUCTION | 案件简介 | varchar | 案件描述 |

**虚拟数据字段映射**:
```
FID                 -> 案件唯一标识 (如: CASE_001)
FBILLNO             -> 案件编号 (如: AJ202400001)
FNAME               -> 案件名称 (如: 合同纠纷案件-1)
FCASETYPEID         -> 案件类型ID (如: TYPE_1)
FLAWSUITAMOUNT      -> 涉诉金额 (如: 1500000.00)
FLAWSUITTYPE        -> 诉讼类型 (1:起诉 2:被诉)
FCASESTATUS         -> 案件状态 (F:已立案 I:一审 J:二审 N:已结案)
FOPERATORID         -> 经办人ID (如: USER_001)
FOPERATORNAME       -> 经办人姓名 (如: 张伟)
FRELATECONTRACTID   -> 关联合同ID (如: CON_001)
FRELATECONTRACTNAME -> 关联合同名称 (如: 建材采购合同-华信建材有限公司)
FREGISTDATE         -> 登记日期 (如: 2024-03-15)
FBILLSTATUS         -> 单据状态 (C:已审核)
FINTRODUCTION       -> 案件简介 (如: 案件简介：合同纠纷相关案件)
```

**注意**: FOPERATORNAME和FRELATECONTRACTNAME是自定义字段，用于方便展示。

---

### 2.8 纠纷表 (t_conl_disputeregist)

**原始表字段数**: 30个

**筛选后字段**: 11个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 纠纷ID | int8 | 唯一标识，构建LegalEvent节点 |
| FBILLNO | 纠纷编号 | varchar | 纠纷编码 |
| FNAME | 纠纷名称 | varchar | 纠纷名称 |
| FCASETYPEID | 纠纷类型 | int8 | 纠纷分类 |
| FDISPUTEAMOUNT | 纠纷金额 | numeric | **关键字段**：纠纷金额 |
| FDISPUTESTATUS | 纠纷状态 | varchar | 纠纷进展状态 |
| FRELATECONTRACTID | 关联合同ID | int8 | **关键字段**：关联合同 |
| FRELATECONTRACTNAME | 关联合同名称 | varchar | 关联合同名称（自定义） |
| FREGISTDATE | 登记日期 | timestamp | 纠纷时间 |
| FBILLSTATUS | 单据状态 | varchar | 数据有效性 |
| FDISPUTEINTRODUCTION | 纠纷简述 | varchar | 纠纷描述 |

**虚拟数据字段映射**:
```
FID                   -> 纠纷唯一标识 (如: DISP_001)
FBILLNO               -> 纠纷编号 (如: JF202400001)
FNAME                 -> 纠纷名称 (如: 合同纠纷-1)
FCASETYPEID           -> 纠纷类型ID (如: TYPE_1)
FDISPUTEAMOUNT        -> 纠纷金额 (如: 800000.00)
FDISPUTESTATUS        -> 纠纷状态 (B:已提交 C:已审核 F:已立案 G:已关闭)
FRELATECONTRACTID     -> 关联合同ID (如: CON_011)
FRELATECONTRACTNAME   -> 关联合同名称 (如: 建材采购合同-东方钢铁集团)
FREGISTDATE           -> 登记日期 (如: 2024-05-20)
FBILLSTATUS           -> 单据状态 (C:已审核)
FDISPUTEINTRODUCTION  -> 纠纷简述 (如: 纠纷简述：合同纠纷相关纠纷)
```

**注意**: FRELATECONTRACTNAME是自定义字段，用于方便展示。

---

### 2.9 合同类型表 (t_mscon_type)

**原始表字段数**: 50个

**筛选后字段**: 4个

| 字段名 | 字段标题 | 类型 | 筛选原因 |
|--------|----------|------|----------|
| FID | 类型ID | int8 | 唯一标识 |
| FNUMBER | 编码 | varchar | 类型编码 |
| FNAME | 名称 | varchar | 类型名称 |
| FDESCRIPTION | 描述 | varchar | 类型描述 |

**虚拟数据字段映射**:
```
FID          -> 类型唯一标识 (如: TYPE_001)
FNUMBER      -> 类型编码 (如: CT001)
FNAME        -> 类型名称 (如: 采购合同)
FDESCRIPTION -> 类型描述 (如: 物资采购类合同)
```

---

## 三、字段筛选总结

### 3.1 筛选统计

| 表名 | 原始字段数 | 筛选后字段数 | 筛选率 |
|------|------------|--------------|--------|
| 人员表 | 52 | 8 | 15.4% |
| 组织表 | 79 | 9 | 11.4% |
| 供应商表 | 69 | 7 | 10.1% |
| 客户表 | 60 | 7 | 11.7% |
| 其他相对方表 | 33 | 6 | 18.2% |
| 合同表 | 84 | 19 | 22.6% |
| 案件表 | 42 | 14 | 33.3% |
| 纠纷表 | 30 | 11 | 36.7% |
| 合同类型表 | 50 | 4 | 8.0% |
| **总计** | **499** | **85** | **17.0%** |

### 3.2 关键字段类型

#### 3.2.1 标识字段（9个表）
- FID: 所有表的唯一标识
- FNUMBER: 业务编码

#### 3.2.2 关系字段（关键）
- **FARTIFICIALPERSON**: 法人代表（组织、供应商、客户、其他相对方）→ 构建法人关系
- **FPARENTORGID**: 父组织ID（组织）→ 构建控股关系
- **FPARTAID/FPARTBID/FPARTCID/FPARTDID**: 合同签署方（合同）→ 构建合同关系
- **FOPERATORID**: 经办人（案件）→ 构建人员关联
- **FRELATECONTRACTID**: 关联合同（案件、纠纷）→ 构建合同关联

#### 3.2.3 属性字段
- **金额字段**: FSIGNALLAMOUNT（合同）、FLAWSUITAMOUNT（案件）、FDISPUTEAMOUNT（纠纷）
- **状态字段**: FSTATUS、FBILLSTATUS、FCONTSTATUS、FCASESTATUS、FDISPUTESTATUS
- **时间字段**: FBIZTIME、FREGISTDATE、FESTABLISHMENTDATE

### 3.3 自定义字段说明

以下字段在原始表中不存在，为支持知识图谱构建而自定义：

1. **FPARENTORGID** (组织表): 父组织ID，用于构建控股关系
2. **FPATYPE/FPBTYPE/FPCTYPE/FPDTYPE** (合同表): 签署方类型，标识来源表
3. **FOPERATORNAME** (案件表): 经办人姓名，方便展示
4. **FRELATECONTRACTNAME** (案件表、纠纷表): 关联合同名称，方便展示
5. **FORGTYPE** (组织表): 组织类型，用于分类
6. **FDESCRIPTION** (多个表): 描述字段，用于补充说明

---

## 四、数据采集指南

### 4.1 必采字段
在实际数据采集时，以下字段**必须采集**：

1. **所有表的FID和FNUMBER**: 唯一标识和业务编码
2. **所有表的FNAME**: 名称字段
3. **关系字段**: FARTIFICIALPERSON、FPARTAID/FPARTBID、FRELATECONTRACTID等
4. **金额字段**: FSIGNALLAMOUNT、FLAWSUITAMOUNT、FDISPUTEAMOUNT
5. **状态字段**: FSTATUS、FBILLSTATUS等

### 4.2 可选字段
以下字段可根据实际需求选择性采集：
- 描述字段（FDESCRIPTION、FINTRODUCTION等）
- 时间字段（除核心时间外的其他时间字段）
- 扩展属性字段

### 4.3 字段对应关系

**合同表中的签署方类型对应**:
```
FPATYPE/FPBTYPE/FPCTYPE/FPDTYPE 的值：
- "bos_org"           -> 来自组织表 (t_org_org)
- "bd_supplier"       -> 来自供应商表 (t_bd_supplier)
- "bd_customer"       -> 来自客户表 (t_bd_customer)
- "mscon_counterpart" -> 来自其他相对方表 (t_mscon_counterpart)
```

**状态字段枚举值**:
```
FSTATUS (数据状态):
- A: 暂存
- B: 已提交
- C: 已审核

FCONTSTATUS (合同状态):
- EXECUTING: 执行中
- COMPLETED: 已完成

FCASESTATUS (案件状态):
- F: 已立案
- I: 一审
- J: 二审
- N: 已结案

FDISPUTESTATUS (纠纷状态):
- A: 暂存
- B: 已提交
- C: 已审核
- F: 已立案
- G: 已关闭
```

